{{define "title"}}Home{{end}}

{{define "body"}}
<h1>Home</h1>


<form class="form-inline" action="home.html" method="post">
    <div class="form-group">
        <label for="platID">Platoon ID</label>
        <input type="text" class="form-control" name="platID" id="platID">
    </div>
    <input type="hidden" name="submitted" value="true">
    <button type="submit" class="btn btn-default">Send it</button>
</form>

<a href="request.html">I have a request</a>
{{ if .Response }}
{{ if .Success }}

<div class="panel-group">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h5>
                <a data-toggle="collapse" href="#collapsemain">Platoons:</a>
            </h5>
        </div>
        <div id="collapsemain" class="panel-collapse collapse">
            <ul class="list-group">
                {{ range $i, $platoon := .QueryRet }}
                    <li class="list-group-item">
                        <div class="panel-group">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h6>
                                        <a data-toggle="collapse" href="#collapse{{ $i }}">{{ $platoon.ID }}</a>
                                    </h6>
                                </div>
                                <div id="collapse{{ $i }}" class="panel-collapse collapse">
                                    <ul class="list-group">
                                        <li class="list-group-item">
                                            LastMoved: {{ $platoon.LastMove }}
                                        </li>
                                        <li class="list-group-item">
                                            Distance Traveled: {{ $platoon.Distance }}
                                        </li>
                                        <li class="list-group-item">
                                            Current Speed: {{ $platoon.CurrSpeed }}MPH
                                        </li>

                                        {{ range $platoon.Members }}
                                        <li class="list-group-item"> {{.}} </li>
                                        {{end}}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                {{ end }}
            </ul>
        </div>
    </div>
</div>

{{ else }}
<div class="alert alert-danger" role="alert">
    Unable to submit request, sry bud
</div>
{{ end }}
{{ end }}

{{end}}
